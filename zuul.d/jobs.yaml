- job:
    name: nebulous-platform-apply-helm-charts
    parent: nebulous-apply-helm-charts
    dependencies:
      - name: opendev-buildset-registry
        soft: false
      - name: nebulous-activemq-build-container-images
        soft: true
      - name: nebulous-activemq-upload-container-images
        soft: true
      - name: nebulous-cloud-fog-service-broker-build-container-images
        soft: true
      - name: nebulous-cloud-fog-service-broker-upload-container-images
        soft: true
      - name: nebulous-exponential-smoothing-predictor-build-container-images
        soft: true
      - name: nebulous-exponential-smoothing-predictor-upload-container-images
        soft: true
      - name: nebulous-gui-build-container-images
        soft: true
      - name: nebulous-gui-upload-container-images
        soft: true
      - name: nebulous-influxdb-build-container-images
        soft: true
      - name: nebulous-influxdb-upload-container-images
        soft: true
      - name: nebulous-monitoring-data-persistor-build-container-images
        soft: true
      - name: nebulous-monitoring-data-persistor-upload-container-images
        soft: true
      - name: nebulous-optimiser-constraint-checker-build-container-images
        soft: true
      - name: nebulous-optimiser-constraint-checker-upload-container-images
        soft: true
      - name: nebulous-optimiser-controller-build-container-images
        soft: true
      - name: nebulous-optimiser-controller-upload-container-images
        soft: true
      - name: nebulous-optimiser-resource-auction-agent-build-container-images
        soft: true
      - name: nebulous-optimiser-resource-auction-agent-upload-container-images
        soft: true
      - name: nebulous-optimiser-solver-build-container-images
        soft: true
      - name: nebulous-optimiser-solver-upload-container-images
        soft: true
      - name: nebulous-optimiser-utility-evaluator-build-container-images
        soft: true
      - name: nebulous-optimiser-utility-evaluator-upload-container-images
        soft: true
      - name: nebulous-overlay-network-manager-build-container-images
        soft: true
      - name: nebulous-overlay-network-manager-upload-container-images
        soft: true
      - name: nebulous-resource-manager-build-container-images
        soft: true
      - name: nebulous-resource-manager-upload-container-images
        soft: true
      - name: nebulous-security-manager-build-container-images
        soft: true
      - name: nebulous-security-manager-upload-container-images
        soft: true
      - name: nebulous-slo-violation-detector-build-container-images
        soft: true
      - name: nebulous-slo-violation-detector-upload-container-images
        soft: true
    required-projects:
      - nebulous/activemq
      - nebulous/cloud-fog-service-broker
      - nebulous/exponential-smoothing-predictor
      - nebulous/gui
      - nebulous/influxdb
      - nebulous/monitoring-data-persistor
      - nebulous/optimiser-constraint-checker
      - nebulous/optimiser-controller
      - nebulous/optimiser-resource-auction-agent
      - nebulous/optimiser-solver
      - nebulous/optimiser-utility-evaluator
      - nebulous/overlay-network-manager
      - nebulous/resource-manager
      - nebulous/security-manager
      - nebulous/slo-violation-detector
    requires:
      - nebulous-activemq-container-images
      - nebulous-cloud-fog-service-broker-container-images
      - nebulous-exponential-smoothing-predictor-container-images
      - nebulous-gui-container-images
      - nebulous-influxdb-container-images
      - nebulous-monitoring-data-persistor-container-images
      - nebulous-optimiser-constraint-checker-container-images
      - nebulous-optimiser-controller-container-images
      - nebulous-optimiser-resource-auction-agent-container-images
      - nebulous-optimiser-solver-container-images
      - nebulous-optimiser-utility-evaluator-container-images
      - nebulous-overlay-network-manager-container-images
      - nebulous-resource-manager-container-images
      - nebulous-security-manager-container-images
      - nebulous-slo-violation-detector-container-images
    description: Deploy a Kubernetes cluster and apply charts.
    vars:
      helm_charts:
        nebulous-activemq: ../activemq/charts/nebulous-activemq
        nebulous-cloud-fog-service-broker: ../cloud-fog-service-broker/charts/nebulous-cloud-fog-service-broker
        nebulous-exponential-smoothing-predictor: ../exponential-smoothing-predictor/charts/nebulous-exponential-smoothing-predictor
        nebulous-gui: ../gui/charts/nebulous-gui
        nebulous-influxdb: ../influxdb/charts/nebulous-influxdb
        # nebulous-monitoring-data-persistor: ../monitoring-data-persistor/charts/nebulous-monitoring-data-persistor
        nebulous-optimiser-constraint-checker: ../optimiser-constraint-checker/charts/nebulous-optimiser-constraint-checker
        nebulous-optimiser-controller: ../optimiser-controller/charts/nebulous-optimiser-controller
        nebulous-optimiser-resource-auction-agent: ../optimiser-resource-auction-agent/charts/nebulous-optimiser-resource-auction-agent
        nebulous-optimiser-solver: ../optimiser-solver/charts/nebulous-optimiser-solver
        nebulous-optimiser-utility-evaluator: ../optimiser-utility-evaluator/charts/nebulous-optimiser-utility-evaluator
        nebulous-overlay-network-manager: ../overlay-network-manager/charts/nebulous-overlay-network-manager
        nebulous-resource-manager: ../resource-manager/charts/nebulous-resource-manager
        nebulous-security-manager: ../security-manager/charts/nebulous-security-manager
        nebulous-slo-violation-detector: ../slo-violation-detector/charts/nebulous-slo-violation-detector
